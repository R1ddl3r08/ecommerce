{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\ecommerce\\\\frontend\\\\src\\\\store\\\\shopping-cart-context.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext({\n  items: []\n});\nfunction shoppingCartReducer(state, action) {\n  if (action.type === 'ADD_ITEM') {\n    const updatedItems = [...state.items];\n    const existingCartItemIndex = updatedItems.findIndex(cartItem => cartItem.id === action.payload);\n    const existingCartItem = updatedItems[existingCartItemIndex];\n    if (existingCartItem) {\n      const updatedItem = {\n        ...existingCartItem,\n        quantity: existingCartItem.quantity + 1\n      };\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      const product = DUMMY_PRODUCTS.find(product => product.id === action.payload);\n      updatedItems.push({\n        id: action.payload,\n        name: product.title,\n        price: product.price,\n        quantity: 1\n      });\n    }\n    return {\n      ...state,\n      // not needed here because we have only one value\n      items: updatedItems\n    };\n  }\n  if (action.type === 'UPDATE_ITEM') {\n    const updatedItems = [...state.items];\n    const updatedItemIndex = updatedItems.findIndex(item => item.id === action.payload.productId);\n    const updatedItem = {\n      ...updatedItems[updatedItemIndex]\n    };\n    updatedItem.quantity += action.payload.amount;\n    if (updatedItem.quantity <= 0) {\n      updatedItems.splice(updatedItemIndex, 1);\n    } else {\n      updatedItems[updatedItemIndex] = updatedItem;\n    }\n    return {\n      ...state,\n      items: updatedItems\n    };\n  }\n  return state;\n}\nexport default function CartContextProvider({\n  children\n}) {\n  _s();\n  const [shoppingCartState, shoppingCartDispatch] = useReducer(shoppingCartReducer, {\n    items: []\n  });\n  function handleAddItemToCart(id) {\n    shoppingCartDispatch({\n      type: 'ADD_ITEM',\n      payload: id\n    });\n  }\n  function handleUpdateCartItemQuantity(productId, amount) {\n    shoppingCartDispatch({\n      type: 'UPDATE_TIME',\n      payload: {\n        productId,\n        amount\n      }\n    });\n  }\n  const ctxValue = {\n    items: shoppingCartState.items,\n    addItemToCart: handleAddItemToCart,\n    updatedItemQuantity: handleUpdateCartItemQuantity\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: ctxValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 12\n  }, this);\n}\n_s(CartContextProvider, \"3hOxpOiL8aeF4JPW/hiRKfd3pYA=\");\n_c = CartContextProvider;\nvar _c;\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["createContext","useReducer","jsxDEV","_jsxDEV","CartContext","items","shoppingCartReducer","state","action","type","updatedItems","existingCartItemIndex","findIndex","cartItem","id","payload","existingCartItem","updatedItem","quantity","product","DUMMY_PRODUCTS","find","push","name","title","price","updatedItemIndex","item","productId","amount","splice","CartContextProvider","children","_s","shoppingCartState","shoppingCartDispatch","handleAddItemToCart","handleUpdateCartItemQuantity","ctxValue","addItemToCart","updatedItemQuantity","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/ecommerce/frontend/src/store/shopping-cart-context.js"],"sourcesContent":["import { createContext, useReducer} from 'react';\r\n\r\nexport const CartContext =  createContext({\r\n    items: []\r\n});\r\n\r\nfunction shoppingCartReducer(state, action) {\r\n    if(action.type === 'ADD_ITEM') {\r\n        const updatedItems = [...state.items];\r\n\r\n        const existingCartItemIndex = updatedItems.findIndex(\r\n        (cartItem) => cartItem.id === action.payload\r\n        );\r\n        const existingCartItem = updatedItems[existingCartItemIndex];\r\n\r\n        if (existingCartItem) {\r\n        const updatedItem = {\r\n            ...existingCartItem,\r\n            quantity: existingCartItem.quantity + 1,\r\n        };\r\n        updatedItems[existingCartItemIndex] = updatedItem;\r\n        } else {\r\n        const product = DUMMY_PRODUCTS.find((product) => product.id === action.payload);\r\n        updatedItems.push({\r\n            id: action.payload,\r\n            name: product.title,\r\n            price: product.price,\r\n            quantity: 1,\r\n        });\r\n        }\r\n\r\n        return {\r\n            ...state, // not needed here because we have only one value\r\n            items: updatedItems,\r\n        };\r\n    }\r\n\r\n    if(action.type === 'UPDATE_ITEM') {\r\n        const updatedItems = [...state.items];\r\n        const updatedItemIndex = updatedItems.findIndex(\r\n        (item) => item.id === action.payload.productId\r\n        );\r\n\r\n        const updatedItem = {\r\n        ...updatedItems[updatedItemIndex],\r\n        };\r\n\r\n        updatedItem.quantity += action.payload.amount;\r\n\r\n        if (updatedItem.quantity <= 0) {\r\n        updatedItems.splice(updatedItemIndex, 1);\r\n        } else {\r\n        updatedItems[updatedItemIndex] = updatedItem;\r\n        }\r\n\r\n        return {\r\n            ...state,\r\n            items: updatedItems,\r\n        };\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport default function CartContextProvider({children}) {\r\n    const [ shoppingCartState, shoppingCartDispatch ] = useReducer(shoppingCartReducer, {\r\n        items: [],\r\n    });\r\n\r\n    function handleAddItemToCart(id) {\r\n        shoppingCartDispatch({\r\n            type: 'ADD_ITEM',\r\n            payload: id,\r\n        });\r\n    }\r\n\r\n    function handleUpdateCartItemQuantity(productId, amount) {\r\n        shoppingCartDispatch({\r\n            type: 'UPDATE_TIME',\r\n            payload: {\r\n                productId,\r\n                amount\r\n            }\r\n        })\r\n    }\r\n\r\n    const ctxValue = {\r\n        items: shoppingCartState.items,\r\n        addItemToCart: handleAddItemToCart,\r\n        updatedItemQuantity: handleUpdateCartItemQuantity\r\n    }\r\n\r\n    return <CartContext.Provider value={ctxValue}>\r\n        {children}\r\n    </CartContext.Provider>\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}