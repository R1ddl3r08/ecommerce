{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\ecommerce\\\\frontend\\\\src\\\\pages\\\\ProductDetailsPage.js\";\nimport React from 'react';\nimport { gql } from '@apollo/client';\nimport { useQuery } from '@apollo/client/react/hooks'; // Ensure you import useQuery correctly\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GET_PRODUCT_DETAILS = gql`\n  query GetProductDetails($id: String!) {\n    product(id: $id) {\n      id\n      name\n      inStock\n      description\n      price {\n        amount\n        currency {\n          symbol\n        }\n      }\n      images {\n        image_url\n      }\n      attributes {\n        id\n        value\n        display_value\n        attribute_set {\n          name\n        }\n      }\n    }\n  }\n`;\nclass ProductDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fetchProductDetails = async () => {\n      const {\n        productId\n      } = this.props;\n      try {\n        const {\n          data\n        } = await this.props.client.query({\n          query: GET_PRODUCT_DETAILS,\n          variables: {\n            id: productId\n          }\n        });\n        this.setState({\n          product: data.product,\n          loading: false,\n          error: null\n        });\n      } catch (error) {\n        console.error('Error fetching product details:', error);\n        this.setState({\n          product: null,\n          loading: false,\n          error: error.message\n        });\n      }\n    };\n    this.state = {\n      product: null,\n      loading: true,\n      error: null\n    };\n  }\n  componentDidMount() {\n    this.fetchProductDetails();\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.productId !== this.props.productId) {\n      this.fetchProductDetails();\n    }\n  }\n  render() {\n    const {\n      product,\n      loading,\n      error\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 23\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Product Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), product && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Product ID: \", product.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Name: \", product.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Description: \", product.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.props.navigate('/products'),\n        children: \"Go to Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ProductDetails;","map":{"version":3,"names":["React","gql","useQuery","useNavigate","useParams","jsxDEV","_jsxDEV","GET_PRODUCT_DETAILS","ProductDetails","Component","constructor","props","fetchProductDetails","productId","data","client","query","variables","id","setState","product","loading","error","console","message","state","componentDidMount","componentDidUpdate","prevProps","render","children","fileName","_jsxFileName","lineNumber","columnNumber","name","description","onClick","navigate"],"sources":["C:/xampp/htdocs/ecommerce/frontend/src/pages/ProductDetailsPage.js"],"sourcesContent":["import React from 'react';\r\nimport { gql } from '@apollo/client';\r\nimport { useQuery } from '@apollo/client/react/hooks'; // Ensure you import useQuery correctly\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nconst GET_PRODUCT_DETAILS = gql`\r\n  query GetProductDetails($id: String!) {\r\n    product(id: $id) {\r\n      id\r\n      name\r\n      inStock\r\n      description\r\n      price {\r\n        amount\r\n        currency {\r\n          symbol\r\n        }\r\n      }\r\n      images {\r\n        image_url\r\n      }\r\n      attributes {\r\n        id\r\n        value\r\n        display_value\r\n        attribute_set {\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nclass ProductDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      product: null,\r\n      loading: true,\r\n      error: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchProductDetails();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.productId !== this.props.productId) {\r\n      this.fetchProductDetails();\r\n    }\r\n  }\r\n\r\n  fetchProductDetails = async () => {\r\n    const { productId } = this.props;\r\n\r\n    try {\r\n      const { data } = await this.props.client.query({\r\n        query: GET_PRODUCT_DETAILS,\r\n        variables: { id: productId },\r\n      });\r\n\r\n      this.setState({\r\n        product: data.product,\r\n        loading: false,\r\n        error: null,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching product details:', error);\r\n      this.setState({\r\n        product: null,\r\n        loading: false,\r\n        error: error.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { product, loading, error } = this.state;\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>Error: {error}</div>;\r\n\r\n    return (\r\n      <div>\r\n        <h1>Product Details</h1>\r\n        {product && (\r\n          <div>\r\n            <p>Product ID: {product.id}</p>\r\n            <p>Name: {product.name}</p>\r\n            <p>Description: {product.description}</p>\r\n            {/* Render other product details */}\r\n          </div>\r\n        )}\r\n        <button onClick={() => this.props.navigate('/products')}>Go to Products</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}