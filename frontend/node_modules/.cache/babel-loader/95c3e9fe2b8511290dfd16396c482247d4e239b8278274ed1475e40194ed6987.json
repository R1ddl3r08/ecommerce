{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\ecommerce\\\\frontend\\\\src\\\\pages\\\\ProductDetailsPage.js\";\nimport React, { Component } from 'react';\nimport { gql } from '@apollo/client';\nimport { Query } from '@apollo/client/react/components';\nimport { useParams } from 'react-router-dom';\nimport Product from '../components/Product';\nimport { client } from '../apollo-client'; // Ensure you import your Apollo client instance\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GET_PRODUCT_DETAILS = gql`\n  query GetProductDetails($id: String!) {\n    product(id: $id) {\n      id\n      name\n      inStock\n      description\n      price {\n        amount\n        currency {\n          symbol\n        }\n      }\n      images {\n        image_url\n      }\n      attributes {\n        id\n        value\n        display_value\n        attribute_set {\n          name\n        }\n      }\n    }\n  }\n`;\nclass ProductDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      error: null,\n      product: null\n    };\n  }\n  componentDidMount() {\n    const {\n      productId\n    } = useParams(); // Access productId from useParams hook\n    client.query({\n      query: GET_PRODUCT_DETAILS,\n      variables: {\n        id: productId\n      }\n    }).then(result => {\n      this.setState({\n        loading: false,\n        product: result.data.product\n      });\n    }).catch(error => {\n      this.setState({\n        loading: false,\n        error\n      });\n    });\n  }\n  render() {\n    const {\n      loading,\n      error,\n      product\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }, this);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Product, {\n        product: product\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n}\nexport default ProductDetails;","map":{"version":3,"names":["React","Component","gql","Query","useParams","Product","client","jsxDEV","_jsxDEV","Fragment","_Fragment","GET_PRODUCT_DETAILS","ProductDetails","constructor","props","state","loading","error","product","componentDidMount","productId","query","variables","id","then","result","setState","data","catch","render","children","fileName","_jsxFileName","lineNumber","columnNumber","message"],"sources":["C:/xampp/htdocs/ecommerce/frontend/src/pages/ProductDetailsPage.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { gql } from '@apollo/client';\r\nimport { Query } from '@apollo/client/react/components';\r\nimport { useParams } from 'react-router-dom';\r\nimport Product from '../components/Product';\r\nimport { client } from '../apollo-client'; // Ensure you import your Apollo client instance\r\n\r\nconst GET_PRODUCT_DETAILS = gql`\r\n  query GetProductDetails($id: String!) {\r\n    product(id: $id) {\r\n      id\r\n      name\r\n      inStock\r\n      description\r\n      price {\r\n        amount\r\n        currency {\r\n          symbol\r\n        }\r\n      }\r\n      images {\r\n        image_url\r\n      }\r\n      attributes {\r\n        id\r\n        value\r\n        display_value\r\n        attribute_set {\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nclass ProductDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n      error: null,\r\n      product: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { productId } = useParams(); // Access productId from useParams hook\r\n    client\r\n      .query({\r\n        query: GET_PRODUCT_DETAILS,\r\n        variables: { id: productId }\r\n      })\r\n      .then(result => {\r\n        this.setState({ loading: false, product: result.data.product });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ loading: false, error });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { loading, error, product } = this.state;\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>Error: {error.message}</div>;\r\n\r\n    return (\r\n      <>\r\n        <Product product={product} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductDetails;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,GAAG,QAAQ,gBAAgB;AACpC,SAASC,KAAK,QAAQ,iCAAiC;AACvD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,SAASC,MAAM,QAAQ,kBAAkB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3C,MAAMC,mBAAmB,GAAGT,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMU,cAAc,SAASX,SAAS,CAAC;EACrCY,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACXC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE,IAAI;MACXC,OAAO,EAAE;IACX,CAAC;EACH;EAEAC,iBAAiBA,CAAA,EAAG;IAClB,MAAM;MAAEC;IAAU,CAAC,GAAGhB,SAAS,CAAC,CAAC,CAAC,CAAC;IACnCE,MAAM,CACHe,KAAK,CAAC;MACLA,KAAK,EAAEV,mBAAmB;MAC1BW,SAAS,EAAE;QAAEC,EAAE,EAAEH;MAAU;IAC7B,CAAC,CAAC,CACDI,IAAI,CAACC,MAAM,IAAI;MACd,IAAI,CAACC,QAAQ,CAAC;QAAEV,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAEO,MAAM,CAACE,IAAI,CAACT;MAAQ,CAAC,CAAC;IACjE,CAAC,CAAC,CACDU,KAAK,CAACX,KAAK,IAAI;MACd,IAAI,CAACS,QAAQ,CAAC;QAAEV,OAAO,EAAE,KAAK;QAAEC;MAAM,CAAC,CAAC;IAC1C,CAAC,CAAC;EACN;EAEAY,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEb,OAAO;MAAEC,KAAK;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACH,KAAK;IAE9C,IAAIC,OAAO,EAAE,oBAAOR,OAAA;MAAAsB,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;IACzC,IAAIjB,KAAK,EAAE,oBAAOT,OAAA;MAAAsB,QAAA,GAAK,SAAO,EAACb,KAAK,CAACkB,OAAO;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;IAEnD,oBACE1B,OAAA,CAAAE,SAAA;MAAAoB,QAAA,eACEtB,OAAA,CAACH,OAAO;QAACa,OAAO,EAAEA;MAAQ;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC,gBAC7B,CAAC;EAEP;AACF;AAEA,eAAetB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}