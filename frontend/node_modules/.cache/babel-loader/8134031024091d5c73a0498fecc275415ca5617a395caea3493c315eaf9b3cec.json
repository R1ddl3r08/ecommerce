{"ast":null,"code":"import React,{Component}from'react';import{Link}from'react-router-dom';import{CartContext}from'../store/shopping-cart-context';import{groupAttributesBySet}from'../utilities/attributeUtils';import{toKebabCase}from'../utilities/toKebabCase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class ProductsList extends Component{constructor(){super(...arguments);this.handleQuickShop=product=>{const{addItemToCart}=this.context;const defaultAttributes={};const groupedAttributes=groupAttributesBySet(product.attributes);Object.entries(groupedAttributes).forEach(_ref=>{let[setName,attributes]=_ref;if(attributes.length>0){const firstAttribute=attributes[0];defaultAttributes[setName]=firstAttribute.id;}});addItemToCart(product,defaultAttributes);};}render(){const{products}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"products-container\",children:products.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"product\",\"data-testid\":\"product-\".concat(toKebabCase(product.name)),children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-product \".concat(!product.inStock?'not-in-stock':''),children:[/*#__PURE__*/_jsxs(Link,{to:\"\".concat(product.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:product.images[0].image_url,alt:\"\".concat(product.name)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"product-name\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[product.price.currency.symbol,product.price.amount.toFixed(2)]})]})]}),product.inStock&&/*#__PURE__*/_jsx(\"button\",{className:\"quick-shop\",onClick:()=>this.handleQuickShop(product),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-cart-shopping\"})})]})},product.id))});}}ProductsList.contextType=CartContext;export default ProductsList;","map":{"version":3,"names":["React","Component","Link","CartContext","groupAttributesBySet","toKebabCase","jsx","_jsx","jsxs","_jsxs","ProductsList","constructor","arguments","handleQuickShop","product","addItemToCart","context","defaultAttributes","groupedAttributes","attributes","Object","entries","forEach","_ref","setName","length","firstAttribute","id","render","products","props","className","children","map","concat","name","inStock","to","src","images","image_url","alt","price","currency","symbol","amount","toFixed","onClick","contextType"],"sources":["C:/xampp/htdocs/ecommerce/frontend/src/components/ProductsList.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CartContext } from '../store/shopping-cart-context';\r\nimport { groupAttributesBySet } from '../utilities/attributeUtils';\r\nimport { toKebabCase } from '../utilities/toKebabCase';\r\n\r\nclass ProductsList extends Component {\r\n  static contextType = CartContext;\r\n\r\n  handleQuickShop = (product) => {\r\n    const { addItemToCart } = this.context;\r\n    const defaultAttributes = {};\r\n    const groupedAttributes = groupAttributesBySet(product.attributes);\r\n\r\n    Object.entries(groupedAttributes).forEach(([setName, attributes]) => {\r\n      if (attributes.length > 0) {\r\n        const firstAttribute = attributes[0];\r\n        defaultAttributes[setName] = firstAttribute.id;\r\n      }\r\n    });\r\n\r\n    addItemToCart(product, defaultAttributes);\r\n  };\r\n\r\n  render() {\r\n    const { products } = this.props;\r\n\r\n    return (\r\n      <div className=\"products-container\">\r\n        {products.map((product) => (\r\n          <div className=\"product\" key={product.id} data-testid={`product-${toKebabCase(product.name)}`}>\r\n            <div className={`inner-product ${!product.inStock ? 'not-in-stock' : ''}`}>\r\n              <Link to={`${product.id}`}>\r\n                <div className=\"image-container\">\r\n                  <img src={product.images[0].image_url} alt={`${product.name}`} />\r\n                </div>\r\n                <div className=\"product-info\">\r\n                  <p className=\"product-name\">{product.name}</p>\r\n                  <p className=\"product-price\">{product.price.currency.symbol}{product.price.amount.toFixed(2)}</p>\r\n                </div>\r\n              </Link>\r\n              {product.inStock && (\r\n                <button className=\"quick-shop\" onClick={() => this.handleQuickShop(product)}>\r\n                  <i className=\"fa-solid fa-cart-shopping\"></i>\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductsList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}